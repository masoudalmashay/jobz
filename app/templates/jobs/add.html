
{% extends "base.html" %}

{% block title %}
    Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ©
{% endblock %}

{%block style %}
<link rel="stylesheet" type="text/css" href="https://unpkg.com/trix@2.0.8/dist/trix.css">
{%endblock%}

{% block content %}

    <div class="md:w-1/2 md:mx-auto mb-4">
        <div role="alert" class=" justify-items-stretch shadow-sm rounded-sm border text-gray-800 font-medium">
            <div class="flex justify-between items-center w-full p-3 rounded">
                <span>ğŸ“Œ ØªØ¨Ù‚Ù‘Ù‰ Ù„Ø¯ÙŠÙƒ <strong>{{ credits or 0 }}</strong> Ø¥Ø¹Ù„Ø§Ù† ÙŠÙ…ÙƒÙ† Ù†Ø´Ø±Ù‡.</span>
                <a href="{{ url_for('main.prices') }}" class="btn btn-neutral btn-sm">Ø¥Ø¶Ø§ÙØ© Ø±ØµÙŠØ¯</a>
            </div>
        </div>
    </div>


    <div class="py-6 md:w-1/2 md:mx-auto text-xl font-bold text-center">
        <h1>Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø¬Ø¯ÙŠØ¯Ø©</h1>
    </div>

    <div class="bg-white border border-gray-200 rounded shadow-sm p-6 md:w-1/2 md:mx-auto">
        <form method="POST" x-data="{ loading: false }" @submit.prevent="loading = true; $el.submit()">
            {{ form.csrf_token }}
            {{ form.hidden_tag() }}

            <fieldset class="fieldset">
                <legend class="fieldset-legend">{{ form.title.label }}</legend>
                {{ form.title(class="input w-full", placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙˆØ¸ÙŠÙØ©", required=False) }}
                <p class="label text-red-500">
                    {{ form.title.errors[0] if form.title.errors else '' }}
                </p>
            </fieldset>

            <style>
                /* Hide everything except bold, italic, link */
                trix-toolbar [data-trix-button-group]:not([data-trix-button-group="text-tools"]):not([data-trix-button-group="link-tools"]) {
                  display: none;
                }
              
                /* Optionally hide strikethrough, code, etc., if you only want bold & italic */
                trix-toolbar [data-trix-attribute="strike"],
                trix-toolbar [data-trix-attribute="code"] {
                  display: none;
                }

                trix-editor {
                    min-height: 200px; /* adjust as needed */
                  }
              </style>

              <fieldset class="fieldset">
                <legend class="fieldset-legend">{{ form.description.label }}</legend>
                
                {{ form.description(type="hidden", id="x", style="display:none;") }}
            
                <trix-editor 
                    input="x" 
                    class="trix-content bg-white border border-gray-300 p-2 rounded"
                    placeholder="Ù…Ø§ Ù‡ÙŠ Ø§Ù„ÙˆØ¸ÙŠÙØ©ØŸ Ø§ÙƒØªØ¨ ÙˆØµÙÙ‹Ø§ Ø¹Ø§Ù…Ù‹Ø§ ÙŠÙˆØ¶Ø­ Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø¹Ù…Ù„ØŒ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©ØŒ ÙˆØ§Ù„ÙØ±ÙŠÙ‚ Ø£Ùˆ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø°ÙŠ Ø³ÙŠÙƒÙˆÙ† ÙÙŠÙ‡ Ø§Ù„Ù…ÙˆØ¸Ù."></trix-editor>
            
                <p class="label text-red-500">
                    {{ form.description.errors[0] if form.description.errors else '' }}
                </p>
            </fieldset>

            <fieldset class="fieldset">
                <legend class="fieldset-legend">{{ form.category_id.label }}</legend>
                {{ form.category_id(class="input w-full", required=False) }}
                <p class="label text-red-500">
                    {{ form.category_id.errors[0] if form.category_id.errors else '' }}
                </p>
            </fieldset>

            <fieldset class="fieldset">
                <legend class="fieldset-legend">{{ form.city_id.label }}</legend>
                {{ form.city_id(class="input w-full", required=False) }}
                <p class="label text-red-500">
                    {{ form.city_id.errors[0] if form.city_id.errors else '' }}
                </p>
            </fieldset>

            <span class="hidden">{{ form.user_id() }}</span>  {# hidden field #}

            <button type="submit" class="btn btn-neutral mt-6" :disabled="loading" x-text="loading ? 'â³  Ø§Ù†ØªØ¸Ø± Ø±Ø¬Ø§Ø¡Ø§ ...' : 'ğŸ“¢ Ù†Ø´Ø± Ø§Ù„ÙˆØ¸ÙŠÙØ©'">ğŸ“¢ Ù†Ø´Ø± Ø§Ù„ÙˆØ¸ÙŠÙØ©</button>
        </form>
    </div>
{% endblock %}

{%block script%}
<script type="text/javascript" src="https://unpkg.com/trix@2.0.8/dist/trix.umd.min.js"></script>
{%endblock%}

